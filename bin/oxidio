#!/usr/bin/env php
<?php
/**
 * Copyright (C) oxidio. See LICENSE file for license details.
 */

call_user_func(static function () {
    $file = file_exists($file = __DIR__ . '/../../../autoload.php') ? $file :  __DIR__ . '/../vendor/autoload.php';
    /** @noinspection PhpIncludeInspection */
    exit(call_user_func(require $file, static function () {
        $package = fn\PACKAGES[fn\VENDOR\OXIDIO\OXIDIO];
        $cli = fn\di([
            'cli.name' => $package['name'],
            'cli.version' => $package['version'],
            'cli.commands.default' => false,
        ], $package['dir'] . 'bin/di.php')->get(fn\Cli::class);
        return $cli->run();
    }));
});
